(this.webpackJsonpbandnames=this.webpackJsonpbandnames||[]).push([[0],{48:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var c,r=n(7),s=n.n(r),a=n(28),o=n.n(a),i=Object(r.createContext)(),j=n(17),b=(n(37),n(0)),d=function(){var e=Object(r.useState)([]),t=Object(j.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)(!1),a=Object(j.a)(s,2),o=a[0],d=a[1],l=Object(r.useContext)(i).socket;Object(r.useEffect)((function(){return l.on("GetBands",(function(e){c(e)})),function(){return l.off("GetBands")}}),[l]);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"d-flex justify-content-around",children:[Object(b.jsx)("h4",{children:"   Lista de Bandas  "}),o?Object(b.jsx)("button",{className:"btn btn-success",onClick:function(){return d(!1)},children:"OK"}):Object(b.jsx)("button",{className:"btn btn-primary",onClick:function(){return d(!0)},children:"Editar nombre"})]}),Object(b.jsxs)("table",{className:"table table-stripped",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{}),Object(b.jsx)("th",{children:"Nombre"}),Object(b.jsx)("th",{children:"Votos"}),Object(b.jsx)("th",{children:"Borrar"})]})}),n.map((function(e){return Object(b.jsx)("tbody",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsx)("button",{className:"btn btn-primary",onClick:function(){return t=e.id,void l.emit("IncreaseVotes",t);var t},children:"+1"})}),Object(b.jsx)("td",{children:o?Object(b.jsx)("input",{type:"form-control",value:e.name,onChange:function(t){return function(e,t){var r=e.target.value;c(n.map((function(e){return e.id===t&&(e.name=r),e}))),l.emit("ChangeNameBand",{id:t,name:r})}(t,e.id)}}):Object(b.jsx)("h4",{children:e.name})}),Object(b.jsx)("td",{children:Object(b.jsx)("h3",{children:e.votes})}),Object(b.jsx)("td",{children:Object(b.jsx)("button",{className:"btn btn-danger",onClick:function(){return t=e.id,void l.emit("DeleteBand",t);var t},children:"Borrar"})})]})},e.id)}))]})]})},l=n(11),u=n(24);u.a.register.apply(u.a,Object(l.a)(u.b));var O=function(){var e=Object(r.useContext)(i).socket;console.log("Start"),Object(r.useEffect)((function(){console.log("Evento!"),e.on("GetBands",(function(e){t(e)}))}),[e]);var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=document.getElementById("myChart");"undefined"!==typeof c&&c.destroy(),console.log("destroy"),c=new u.a(t,{type:"bar",data:{labels:e.map((function(e){return e.name})),datasets:[{label:"# of Votes",data:e.map((function(e){return e.votes})),backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},options:{animation:!1,indexAxis:"y"}})};return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("canvas",{id:"myChart"})})},h=function(){var e=Object(r.useState)(""),t=Object(j.a)(e,2),n=t[0],c=t[1],s=Object(r.useContext)(i).socket,a=function(e){e.preventDefault(),s.emit("NewBand",n),c("")};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h4",{children:"   Nueva Banda  "}),Object(b.jsxs)("form",{className:"mt-4",onSubmit:a,children:[Object(b.jsx)("input",{type:"text",className:"form-control",placeholder:"Ingrese nombre de banda",value:n,onChange:function(e){return c(e.target.value)}}),Object(b.jsx)("button",{className:"btn btn-primary mt-2",onClick:a,children:"Enviar"})]})]})},x=function(){var e=Object(r.useContext)(i).online;return Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("div",{className:"d-inline-flex alert",children:Object(b.jsxs)("h6",{children:["Service Status:",e?Object(b.jsx)("span",{className:"text-success",children:"  Online  "}):Object(b.jsx)("span",{className:"text-danger",children:"  Offline  "})]})}),Object(b.jsx)("h1",{children:"BandNames   App"}),Object(b.jsx)("hr",{}),Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-7",children:Object(b.jsx)(O,{})})}),Object(b.jsx)("hr",{}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-7",children:Object(b.jsx)(d,{})}),Object(b.jsx)("div",{className:"col-4",children:Object(b.jsx)(h,{})})]})]})},m=n(32),f=function(){var e=function(){var e=Object(r.useState)(!1),t=Object(j.a)(e,2),n=t[0],c=t[1],s=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).baseURL,a=Object(r.useMemo)((function(){return m.a.connect(s,{transports:["websocket"]})}),[s]);return Object(r.useEffect)((function(){c(a.connected)}),[a]),Object(r.useEffect)((function(){a.on("connect",(function(){c(!0)}))}),[a]),Object(r.useEffect)((function(){a.on("disconnect",(function(){c(!1)}))}),[a]),{socket:a,online:n}}(),t=e.online,n=e.socket;return Object(b.jsx)(i.Provider,{value:{online:t,socket:n},children:Object(b.jsx)(x,{})})};n(48);o.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(f,{})}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.5f564fab.chunk.js.map